Instead of writing the same function over and over again and do often mistakes here's a MotorDriverl293d library easy to implement and use for your projects with a good API

A.E